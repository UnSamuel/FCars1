-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public."Anuncios"
(
    id_anuncios integer NOT NULL,
    titulo character varying COLLATE pg_catalog."default",
    descripcion character varying COLLATE pg_catalog."default",
    id_vehiculo integer,
    id_usuario integer,
    CONSTRAINT anuncios_pkey PRIMARY KEY (id_anuncios)
);

CREATE TABLE IF NOT EXISTS public."Articulosblog"
(
    id_articulosblog integer NOT NULL,
    titulo character varying COLLATE pg_catalog."default",
    contenido character varying COLLATE pg_catalog."default",
    fecha_publicacion date,
    id_usuario integer,
    CONSTRAINT articulosblog_pkey PRIMARY KEY (id_articulosblog)
);

CREATE TABLE IF NOT EXISTS public."Resenias"
(
    id_resenias integer NOT NULL,
    comentario character varying COLLATE pg_catalog."default",
    calificacion character varying COLLATE pg_catalog."default",
    id_vendedor integer,
    id_comprador integer,
    CONSTRAINT resenias_pkey PRIMARY KEY (id_resenias)
);

CREATE TABLE IF NOT EXISTS public."Usuarios"
(
    id_usuarios integer NOT NULL,
    nombre character varying COLLATE pg_catalog."default",
    apellido character varying COLLATE pg_catalog."default",
    genero boolean,
    lugar_residencia character varying COLLATE pg_catalog."default",
    email character varying COLLATE pg_catalog."default",
    password character varying COLLATE pg_catalog."default",
    rol character varying COLLATE pg_catalog."default",
    CONSTRAINT usuarios_pkey PRIMARY KEY (id_usuarios)
);

CREATE TABLE IF NOT EXISTS public."Vehiculos"
(
    id_vehiculos integer NOT NULL,
    marca character varying COLLATE pg_catalog."default",
    modelo character varying COLLATE pg_catalog."default",
    anio date,
    precio numeric,
    procedencia character varying COLLATE pg_catalog."default",
    imagenes character varying COLLATE pg_catalog."default",
    id_vendedor integer,
    CONSTRAINT vehiculos_pkey PRIMARY KEY (id_vehiculos)
);

ALTER TABLE IF EXISTS public."Anuncios"
    ADD CONSTRAINT usuarioos FOREIGN KEY (id_usuario)
    REFERENCES public."Usuarios" (id_usuarios) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Anuncios"
    ADD CONSTRAINT vehiculos FOREIGN KEY (id_vehiculo)
    REFERENCES public."Vehiculos" (id_vehiculos) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Articulosblog"
    ADD CONSTRAINT usuariooos FOREIGN KEY (id_usuario)
    REFERENCES public."Usuarios" (id_usuarios) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Resenias"
    ADD CONSTRAINT comprador FOREIGN KEY (id_comprador)
    REFERENCES public."Usuarios" (id_usuarios) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Resenias"
    ADD CONSTRAINT vendedor FOREIGN KEY (id_vendedor)
    REFERENCES public."Usuarios" (id_usuarios) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Vehiculos"
    ADD CONSTRAINT vehiculos FOREIGN KEY (id_vendedor)
    REFERENCES public."Usuarios" (id_usuarios) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

END;